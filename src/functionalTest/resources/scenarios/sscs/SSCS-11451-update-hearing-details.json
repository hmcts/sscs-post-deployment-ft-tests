
{

  "description": "create Bundle And Allocate Case Roles",

  "enabled": true,

  "jurisdiction": "SSCS",

  "caseType": "Benefit",

  "options": {

    "taskRetrievalApi": "task-management-api"

  },

  "required": {

    "credentials": {

      "key": "systemupdate"

    },

    "ccd": [

      {

        "eventId": "validAppealCreated",

        "caseData": {

          "template": "minimal-sscs-benefit-appeal.json",

          "replacements": {

          }

        }

      }

    ]

  },

  "tests": [

    {

      "request": {

        "credentials": {

          "key": "systemupdate"

        },

        "input": {

          "eventMessages": [

            {

              "destination": "RestEndpoint",

              "template": "minimal-ccd-event-message.json",

              "replacements": {

                "EventId": "updateHearingDetailsRequired"

              }

            }

          ]

        }

      },

      "expectations": [

        {

          "credentials": {

            "key": "Regional-Centre-Admin"

          },

          "status": 200,

          "numberOfTasksAvailable": 1,

          "taskData": {

            "template": "minimal-task-response.json",

            "replacements": {

              "tasks": [

                {

                  "type": "updateHearingDetailsRequired",

                  "name": "Update Hearing Details",

                  "role_category": "ADMIN",

                  "minor_priority": 300,

                  "major_priority": 3000
                }

              ]

            }

          },

          "roleData": {
            "roles": [
              {
                "role_category": "",
                "role_name": "case-allocator",
                "permissions": [ "Read,Own,Manage,Complete,Cancel,Assign,Unassign,Claim,Unclaim" ],
                "authorisations": []
              },
              {
                "role_category": "",
                "role_name": "task-supervisor",
                "permissions": [ "Read,Own,Manage,Complete,Cancel,Assign,Unassign,Claim,Unclaim" ],
                "authorisations": []
              },
              {
                "role_category": "ADMIN",
                "role_name": "Allocated-Admin-Caseworker",
                "permissions": [ "Read,Own,Claim,Unclaim,Manage,UnclaimAssign,CompleteOwn" ],
                "authorisations": []
              },
              {
                "role_category": "ADMIN",
                "role_name": "Hearing-Centre-Administrator",
                "permissions": [ "Read,Own,Claim,Unclaim,Manage,UnclaimAssign,CompleteOwn" ],
                "authorisations": []
              },
              {
                "role_category": "ADMIN",
                "role_name": "Regional-Centre-Administrator",
                "permissions": [ "Read,Own,Claim,Unclaim,Manage,UnclaimAssign,CompleteOwn" ],
                "authorisations": []
              },
              {
                "role_category": "ADMIN",
                "role_name": "Hearing-Centre-Team-Leader",
                "permissions": [ "Read,Own,Claim,Unclaim,Manage,UnclaimAssign,Assign,Unassign,Cancel,CompleteOwn" ],
                "authorisations": []
              },
              {
                "role_category": "ADMIN",
                "role_name": "Regional-Centre-Team-Leader",
                "permissions": [ "Read,Own,Claim,Unclaim,Manage,Assign,Unassign,Cancel,Complete" ],
                "authorisations": []
              }
            ]

          }

        }

      ]

    }

  ]

}
