
{

  "description": "create Bundle And Allocate Case Roles",

  "enabled": true,

  "jurisdiction": "SSCS",

  "caseType": "Benefit",

  "options": {

    "taskRetrievalApi": "task-management-api"

  },

  "required": {

    "credentials": {

      "key": "systemupdate"

    },

    "ccd": [

      {

        "eventId": "validAppealCreated",

        "caseData": {

          "template": "minimal-sscs-benefit-appeal.json",

          "replacements": {

          }

        }

      }

    ]

  },

  "tests": [

    {

      "request": {

        "credentials": {

          "key": "systemupdate"

        },

        "input": {

          "eventMessages": [

            {

              "destination": "RestEndpoint",

              "template": "minimal-ccd-event-message.json",

              "replacements": {

                "EventId": "reviewOutstandingDraftDecisionRequired"

              }

            }

          ]

        }

      },

      "expectations": [

        {

          "credentials": {

            "key": "Regional-Centre-Admin"

          },

          "status": 200,

          "numberOfTasksAvailable": 1,

          "taskData": {

            "template": "minimal-task-response.json",

            "replacements": {

              "tasks": [

                {

                  "type": "reviewOutstandingDraftDecisionRequired",

                  "name": "Review Outstanding Draft Decision",

                  "role_category": "CTSC",

                  "minor_priority": 300,

                  "major_priority": 3000,



                }

              ]

            }

          },

          "roleData": {
            "roles": [
              {
                "role_category": "",
                "role_name": "case-allocator",
                "permissions": [ "Read,Own,Manage,Complete,Cancel,Assign,Unassign,Claim,Unclaim" ],
                "authorisations": []
              },
              {
                "role_category": "",
                "role_name": "task-supervisor",
                "permissions": [ "Read,Own,Manage,Complete,Cancel,Assign,Unassign,Claim,Unclaim" ],
                "authorisations": []
              },
              {
                "role_category": "CTSC",
                "role_name": "Allocated-CTSC-Caseworker",
                "permissions": [ "Read,Own,Claim,Unclaim,Manage,UnclaimAssign" ],
                "authorisations": []
              },
              {
                "role_category": "CTSC",
                "role_name": "CTSC-Administrator",
                "permissions": [ "Read,Own,Claim,Unclaim,Manage,UnclaimAssign" ],
                "authorisations": []
              },
              {
                "role_category": "CTSC",
                "role_name": "CTSC-Team-Leader",
                "permissions": [ "Read,Own,Claim,Unclaim,Manage,UnclaimAssign,Assign,Unassign,Cancel" ],
                "authorisations": []

              }

            ]

          }

        }

      ]

    }

  ]

}
